<div class="main">
  <app-header title="Cargo Details" />

  @if (details()) {
    <section class="container">
      <div class="ref-order">
        <p>Referencia {{ details()?.reference_number }}</p>
        <h4>Order #{{ details()?.order_number }}</h4>
      </div>
      <div class="destino">
        <div class="icons">
          <div class="truck">
            <div class="bg">
              <img src="assets/truck.svg" alt="" />
            </div>
          </div>
          <div class="linea"></div>
          <div class="circle">
            <div class="circle-1"></div>
          </div>
        </div>
        <div class="list-main">
          <div class="list" *ngFor="let dest of details()?.destinations">
            <!-- <div> -->
            <span>{{ dest.status_string }}</span>
            <p class="city">New York</p>
            <p class="address">{{ dest.address }}</p>
            <!-- </div> -->
            <div class="state">
              <div class="circle" [class.color]="dest.status == 0"></div>
              <p>{{ dest.status_string }}</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  
    <section class="order">
      <div class="photo">
        <div class="oval-1">
          <img src="assets/driver1.png" alt="image" />
        </div>
      </div>
      <p class="date">{{details()?.end_date | date: "hh:mm"}}</p>
  
      <div class="state-main">
        <div class="item">
          <app-check />
          <p>Created Order</p>
        </div>
        <div class="item">
          <app-check />
          <p>Aceepted Order</p>
        </div>
        <div class="item">
          <app-check />
          <p class="pickup">
            Pickup set up by {{ (details()?.driver?.nickname?.split(" "))![0] }}
          </p>
        </div>
        <div class="item">
          <app-not-check />
          <p class="pickup">Pick Completed</p>
        </div>
      </div>
  
      <button class="trackOrder" [class.active]="details()?.stamp">
        Track Order
      </button>
    </section>
  
    <app-pickp-data [driver]="driver" />
  } @else {
    <app-loading />
  }
</div>